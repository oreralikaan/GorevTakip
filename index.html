<!DOCTYPE html>
<html lang="tr">
<head>
  <meta charset="UTF-8" />
  <title>Görev Listesi</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />

  <!-- Bootstrap CSS -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <!-- Bootstrap Icons -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.css" rel="stylesheet">

  <style>
    /* ====== Tema arkaplanları ====== */
    body { min-height: 100svh; transition: background 300ms ease, color 300ms ease; }
    body.light { background: linear-gradient(135deg, #e6fff3 0%, #d1fae5 40%, #b7f0da 100%); color: #0f172a; }
    body.dark  { background: radial-gradient(1200px circle at 10% 10%, #7f1d1d 0%, #5b0f17 50%, #3b0a0e 100%); color: #f8fafc; }

    /* ====== Kart (glass) ====== */
    .glass-card{
      backdrop-filter: blur(10px); -webkit-backdrop-filter: blur(10px);
      background: rgba(255,255,255,0.55);
      border: 1px solid rgba(255,255,255,0.4);
      border-radius: 16px; box-shadow: 0 10px 30px rgba(0,0,0,.10);
      overflow: hidden; transition: transform 200ms, box-shadow 200ms, background 300ms;
      max-width: 700px; width: 100%;
    }
    body.dark .glass-card{
      background: rgba(255,255,255,0.08);
      border-color: rgba(255,255,255,0.12);
      box-shadow: 0 10px 30px rgba(0,0,0,.25);
    }

    /* ====== Başlık ====== */
    .card-top{ background: linear-gradient(90deg, rgba(25,135,84,.95), rgba(16,185,129,.95)); color:#fff; }
    body.dark .card-top{ background: linear-gradient(90deg, rgba(127,29,29,.95), rgba(190,18,60,.95)); }

    /* Liste görünümü */
    .task-item{ border:0!important; border-radius:12px!important; margin-bottom:8px;
      background: rgba(255,255,255,0.9); transition: background 200ms, transform 120ms; }
    .task-item:hover{ transform: translateY(-1px); }
    body.light .task-item:hover{ background:#f2fbf6; }
    body.dark .task-item{ background: rgba(255,255,255,0.06); }
    body.dark .task-item:hover{ background: rgba(255,255,255,0.10); }
    .task-text.done{ text-decoration: line-through; opacity:.65; }

    /* Gece modunda Ekle butonu */
    body.dark #ekleBtn{ background-color:#e11d48; border-color:#e11d48; }
    body.dark #ekleBtn:hover{ background-color:#be123c; border-color:#be123c; }

    /* ====== Bulut sahnesi + Güneş/Ay ====== */
   .bulut-sahne{
  position: relative;
  width: 100%;
  height: calc(120px + 8cm + 10px); /* 120px (şehrin boyu) + 2*4cm + küçük tampon */
  overflow-x: hidden;
  overflow-y: hidden; /* istersen 'visible' yapıp dikey taşmaya izin verebilirsin */
  margin-top: 20px;


}

    .layer{ position:absolute; inset:0; }
    .z-city{ z-index:1; }      /* şehir */
    .z-stars{ z-index:2; }     /* kayan yıldızlar */
    .z-clouds{ z-index:3; }    /* bulutlar */
    .z-sunmoon{ z-index:4; }   /* güneş/ay */

    .bulut{ position:absolute; }
    .bulut svg path{ fill:#ffffff; filter: drop-shadow(0 3px 5px rgba(0,0,0,0.15)); }
    body.dark .bulut svg path{ fill:#f1f5f9; filter: drop-shadow(0 3px 5px rgba(255,255,255,0.12)); }

    .bulut1{ top:18px; left:-220px; animation:bulutAnim1 15s linear infinite; }
    .bulut2{ top:42px; left:-260px; animation:bulutAnim2 22s linear infinite; }
    .bulut3{ top:10px; left:-180px; animation:bulutAnim3 12s linear infinite; }
    @keyframes bulutAnim1{ 0%{left:-220px;} 100%{left:100%;} }
    @keyframes bulutAnim2{ 0%{left:-260px;} 100%{left:100%;} }
    @keyframes bulutAnim3{ 0%{left:-180px;} 100%{left:100%;} }

    .gokcisim{ position:absolute; right:18px; top:8px; width:72px; height:72px; pointer-events:none; }
    .gunes, .ay{ display:none; width:100%; height:100%; }
    body.light .gunes{ display:block; }
    body.dark  .ay{ display:block; }

    .sun-core{ animation: pulse 3s ease-in-out infinite; }
    .sun-rays{ transform-origin: 50% 50%; animation: spin 12s linear infinite; opacity:.75; }
    @keyframes spin { from{ transform:rotate(0deg);} to{ transform:rotate(360deg);} }
    @keyframes pulse { 0%,100%{ filter:brightness(1);} 50%{ filter:brightness(1.2);} }

    .moon{ animation: float 6s ease-in-out infinite; }
    .stars circle{ animation: twinkle 2.2s ease-in-out infinite; }
    .stars circle:nth-child(2){ animation-delay: .6s; }
    .stars circle:nth-child(3){ animation-delay: 1.1s; }
    @keyframes float { 0%,100%{ transform:translateY(0);} 50%{ transform:translateY(-2px);} }
    @keyframes twinkle { 0%,100%{ opacity:.5; } 50%{ opacity:1; } }

    /* ====== Kayan Yıldız (gece görünür) ====== */
    .shooting-star{ position:absolute; width:130px; height:44px; opacity:0; transform: rotate(-20deg); display:none; }
    body.dark .shooting-star{ display:block; }
    .ss1{ right:110px; top:12px; animation: shoot 2.8s linear infinite; }
    .ss2{ right:150px; top:0px;  animation: shoot 3.6s linear infinite 1.2s; }
    @keyframes shoot{
      0%{ opacity:0; transform: translate(-40px, -10px) rotate(-20deg); }
      10%{ opacity:1; }
      60%{ opacity:1; }
      100%{ opacity:0; transform: translate(160px, 40px) rotate(-20deg); }
    }

    /* ====== Şehir Silüeti (2D) ====== */
    /* Şehir silüeti: bulut sahnesinin ortasına, bulutların altına */
.sehir{
  position: absolute;
  left: 0;
  top: calc(50% - 60px + 4cm);
  width: 100%;
  height: 120px;
}

    /* binalar: açık ve koyu tonlar (tema göreceli fark azalsın diye değişmiyor) */
    .b1{ fill:#233146; } .b2{ fill:#1d2a3d; } .b3{ fill:#273852; } .b4{ fill:#1b2636; } .b5{ fill:#22344b; }

    /* pencereler (tema ile renk değişimi) */
    .win{ rx:1.5; ry:1.5; }
    body.light .win{ fill:#cbd5e1; opacity:.85; }               /* gündüz: mat gri-mavi */
    body.dark  .win{ fill:#fde047; filter: drop-shadow(0 0 6px rgba(253,224,71,.7)); } /* gece: sarı ışık + parıltı */

    /* bazı pencerelere titreşim (gecede hafif yanıp sönme) */
    .flickerA{ animation: flick 3.8s ease-in-out infinite; }
    .flickerB{ animation: flick 4.6s ease-in-out infinite .8s; }
    .flickerC{ animation: flick 5.2s ease-in-out infinite 1.4s; }
    @keyframes flick{
      0%,100%{ opacity:.95; }
      50%{ opacity:.55; }
    }
  </style>
</head>
<body class="light d-flex flex-column align-items-center py-5 px-3">

  <div class="glass-card">
    <div class="card-top p-3">
      <div class="d-flex align-items-center justify-content-between">
        <div class="d-flex align-items-center gap-2">
          <i class="bi bi-check2-square fs-3"></i>
          <h4 class="mb-0">Görev Listesi</h4>
        </div>
        <button id="temaBtn" class="btn btn-sm btn-outline-light border-0" title="Tema değiştir">
          <i id="temaIcon" class="bi bi-moon fs-5"></i>
        </button>
      </div>
    </div>

    <div class="p-3">
      <!-- Ekleme -->
      <div class="input-group mb-3">
        <span class="input-group-text"><i class="bi bi-pencil"></i></span>
        <input id="gorevInput" type="text" class="form-control" placeholder="Görev yazın..." autocomplete="off">
        <button id="ekleBtn" class="btn btn-success">
          <i class="bi bi-plus-lg me-1"></i>Ekle
        </button>
      </div>

      <!-- Arama + Filtre -->
      <div class="row g-2 mb-3">
        <div class="col-12 col-md-8">
          <div class="input-group">
            <span class="input-group-text"><i class="bi bi-search"></i></span>
            <input id="aramaInput" type="text" class="form-control" placeholder="Ara... (Türkçe uyumlu)">
          </div>
        </div>
        <div class="col-12 col-md-4">
          <select id="filtreSelect" class="form-select">
            <option value="all">Tüm görevler</option>
            <option value="done">Tamamlananlar</option>
            <option value="todo">Tamamlanmayanlar</option>
          </select>
        </div>
      </div>

      <ul id="gorevListesi" class="list-group mb-3"></ul>
      <p id="bosMesaj" class="text-center" style="display:none;">Görev bulunamadı.</p>
    </div>
  </div>

  <!-- SAHNE -->
  <div class="bulut-sahne">

    <!-- Güneş / Ay -->
    <div class="gokcisim layer z-sunmoon" aria-hidden="true" style="inset:auto; right:18px; top:8px; width:72px; height:72px;">
      <!-- Güneş -->
      <svg class="gunes" viewBox="0 0 100 100">
        <g class="sun-rays">
          <line x1="50" y1="4"  x2="50" y2="20" stroke="#fbbf24" stroke-width="4" />
          <line x1="50" y1="80" x2="50" y2="96" stroke="#fbbf24" stroke-width="4" />
          <line x1="4"  y1="50" x2="20" y2="50" stroke="#fbbf24" stroke-width="4" />
          <line x1="80" y1="50" x2="96" y2="50" stroke="#fbbf24" stroke-width="4" />
          <line x1="16" y1="16" x2="28" y2="28" stroke="#fbbf24" stroke-width="4" />
          <line x1="72" y1="72" x2="84" y2="84" stroke="#fbbf24" stroke-width="4" />
          <line x1="16" y1="84" x2="28" y2="72" stroke="#fbbf24" stroke-width="4" />
          <line x1="72" y1="28" x2="84" y2="16" stroke="#fbbf24" stroke-width="4" />
        </g>
        <defs>
          <radialGradient id="sunGrad" cx="50%" cy="50%" r="50%">
            <stop offset="0%" stop-color="#fde047"/><stop offset="70%" stop-color="#f59e0b"/><stop offset="100%" stop-color="#f59e0b"/>
          </radialGradient>
        </defs>
        <circle class="sun-core" cx="50" cy="50" r="22" fill="url(#sunGrad)"/>
      </svg>

      <!-- Ay -->
      <svg class="ay" viewBox="0 0 100 100">
        <defs>
          <radialGradient id="moonGrad" cx="40%" cy="40%" r="60%"><stop offset="0%" stop-color="#ffffff"/><stop offset="100%" stop-color="#dfe7ef"/></radialGradient>
        </defs>
        <g class="moon"><circle cx="55" cy="45" r="22" fill="url(#moonGrad)"/><circle cx="65" cy="40" r="22" fill="#3b0a0e"/></g>
        <g class="stars" fill="#f8fafc"><circle cx="20" cy="20" r="2"/><circle cx="12" cy="36" r="1.6"/><circle cx="30" cy="12" r="1.8"/></g>
      </svg>
    </div>

    <!-- Kayan Yıldızlar -->
    <svg class="shooting-star ss1 layer z-stars" viewBox="0 0 130 44"><defs><linearGradient id="trail1" x1="0%" y1="50%" x2="100%" y2="50%"><stop offset="0%" stop-color="#ffffff" stop-opacity="0"/><stop offset="40%" stop-color="#ffffff" stop-opacity="0.6"/><stop offset="100%" stop-color="#ffffff" stop-opacity="1"/></linearGradient></defs><line x1="10" y1="22" x2="110" y2="22" stroke="url(#trail1)" stroke-width="2.4" stroke-linecap="round"/><circle cx="116" cy="22" r="2.6" fill="#ffffff"/></svg>
    <svg class="shooting-star ss2 layer z-stars" viewBox="0 0 130 44"><defs><linearGradient id="trail2" x1="0%" y1="50%" x2="100%" y2="50%"><stop offset="0%" stop-color="#ffffff" stop-opacity="0"/><stop offset="45%" stop-color="#ffffff" stop-opacity="0.6"/><stop offset="100%" stop-color="#ffffff" stop-opacity="1"/></linearGradient></defs><line x1="10" y1="22" x2="110" y2="22" stroke="url(#trail2)" stroke-width="2.2" stroke-linecap="round"/><circle cx="116" cy="22" r="2.4" fill="#ffffff"/></svg>

    <!-- Şehir Silüeti -->
    <svg class="sehir layer z-city" viewBox="0 0 700 120" preserveAspectRatio="none">
      <!-- zemin -->
      <rect x="0" y="110" width="700" height="10" fill="#0b1320" opacity=".65"/>
      <!-- binalar -->
      <g class="binalar">
        <!-- Sol geniş bina -->
        <rect class="b1" x="20"  y="40"  width="90" height="70" />
        <!-- Orta ince yüksek -->
        <rect class="b2" x="140" y="20"  width="60" height="90" />
        <!-- Kubbe çatılı -->
        <rect class="b3" x="230" y="55"  width="80" height="55" />
        <rect class="b3" x="260" y="45"  width="20" height="10" />
        <!-- Yüksek kule -->
        <rect class="b4" x="340" y="10"  width="70" height="100" />
        <rect class="b4" x="372" y="0"   width="6"  height="10" />
        <!-- Sağ geniş -->
        <rect class="b5" x="440" y="35"  width="100" height="75" />
        <!-- Sağ ince -->
        <rect class="b2" x="560" y="25"  width="60" height="85" />
        <rect class="b1" x="640" y="50"  width="40" height="60" />
      </g>

      <!-- pencereler - sol bina -->
      <g>
        <!-- grid: 4 sütun x 5 satır -->
        <rect class="win flickerA" x="30" y="50" width="10" height="6"/>
        <rect class="win" x="48" y="50" width="10" height="6"/>
        <rect class="win flickerB" x="66" y="50" width="10" height="6"/>
        <rect class="win" x="84" y="50" width="10" height="6"/>

        <rect class="win" x="30" y="62" width="10" height="6"/>
        <rect class="win flickerC" x="48" y="62" width="10" height="6"/>
        <rect class="win" x="66" y="62" width="10" height="6"/>
        <rect class="win" x="84" y="62" width="10" height="6"/>

        <rect class="win" x="30" y="74" width="10" height="6"/>
        <rect class="win" x="48" y="74" width="10" height="6"/>
        <rect class="win flickerA" x="66" y="74" width="10" height="6"/>
        <rect class="win" x="84" y="74" width="10" height="6"/>

        <rect class="win" x="30" y="86" width="10" height="6"/>
        <rect class="win" x="48" y="86" width="10" height="6"/>
        <rect class="win flickerB" x="66" y="86" width="10" height="6"/>
        <rect class="win" x="84" y="86" width="10" height="6"/>

        <rect class="win" x="30" y="98" width="10" height="6"/>
        <rect class="win" x="48" y="98" width="10" height="6"/>
        <rect class="win" x="66" y="98" width="10" height="6"/>
        <rect class="win flickerC" x="84" y="98" width="10" height="6"/>
      </g>

      <!-- orta ince bina pencereleri -->
      <g>
        <rect class="win" x="150" y="30" width="10" height="6"/>
        <rect class="win flickerA" x="170" y="30" width="10" height="6"/>
        <rect class="win" x="190" y="30" width="10" height="6"/>

        <rect class="win" x="150" y="44" width="10" height="6"/>
        <rect class="win" x="170" y="44" width="10" height="6"/>
        <rect class="win flickerB" x="190" y="44" width="10" height="6"/>

        <rect class="win" x="150" y="58" width="10" height="6"/>
        <rect class="win" x="170" y="58" width="10" height="6"/>
        <rect class="win flickerC" x="190" y="58" width="10" height="6"/>

        <rect class="win" x="150" y="72" width="10" height="6"/>
        <rect class="win flickerA" x="170" y="72" width="10" height="6"/>
        <rect class="win" x="190" y="72" width="10" height="6"/>

        <rect class="win" x="150" y="86" width="10" height="6"/>
        <rect class="win" x="170" y="86" width="10" height="6"/>
        <rect class="win" x="190" y="86" width="10" height="6"/>
      </g>

      <!-- yüksek kule pencereleri -->
      <g>
        <rect class="win" x="350" y="18" width="12" height="7"/>
        <rect class="win flickerB" x="372" y="18" width="12" height="7"/>
        <rect class="win" x="394" y="18" width="12" height="7"/>

        <rect class="win" x="350" y="34" width="12" height="7"/>
        <rect class="win" x="372" y="34" width="12" height="7"/>
        <rect class="win flickerA" x="394" y="34" width="12" height="7"/>

        <rect class="win" x="350" y="50" width="12" height="7"/>
        <rect class="win" x="372" y="50" width="12" height="7"/>
        <rect class="win" x="394" y="50" width="12" height="7"/>

        <rect class="win flickerC" x="350" y="66" width="12" height="7"/>
        <rect class="win" x="372" y="66" width="12" height="7"/>
        <rect class="win" x="394" y="66" width="12" height="7"/>

        <rect class="win" x="350" y="82" width="12" height="7"/>
        <rect class="win" x="372" y="82" width="12" height="7"/>
        <rect class="win" x="394" y="82" width="12" height="7"/>
      </g>

      <!-- sağ geniş bina pencereleri -->
      <g>
        <rect class="win" x="450" y="45" width="11" height="6"/>
        <rect class="win" x="468" y="45" width="11" height="6"/>
        <rect class="win flickerA" x="486" y="45" width="11" height="6"/>
        <rect class="win" x="504" y="45" width="11" height="6"/>

        <rect class="win" x="450" y="59" width="11" height="6"/>
        <rect class="win flickerB" x="468" y="59" width="11" height="6"/>
        <rect class="win" x="486" y="59" width="11" height="6"/>
        <rect class="win" x="504" y="59" width="11" height="6"/>

        <rect class="win" x="450" y="73" width="11" height="6"/>
        <rect class="win" x="468" y="73" width="11" height="6"/>
        <rect class="win" x="486" y="73" width="11" height="6"/>
        <rect class="win flickerC" x="504" y="73" width="11" height="6"/>

        <rect class="win" x="450" y="87" width="11" height="6"/>
        <rect class="win" x="468" y="87" width="11" height="6"/>
        <rect class="win" x="486" y="87" width="11" height="6"/>
        <rect class="win" x="504" y="87" width="11" height="6"/>
      </g>

      <!-- sağ ince bina pencereleri -->
      <g>
        <rect class="win flickerA" x="570" y="34" width="10" height="6"/>
        <rect class="win" x="588" y="34" width="10" height="6"/>

        <rect class="win" x="570" y="48" width="10" height="6"/>
        <rect class="win" x="588" y="48" width="10" height="6"/>

        <rect class="win flickerB" x="570" y="62" width="10" height="6"/>
        <rect class="win" x="588" y="62" width="10" height="6"/>

        <rect class="win" x="570" y="76" width="10" height="6"/>
        <rect class="win flickerC" x="588" y="76" width="10" height="6"/>

        <rect class="win" x="570" y="90" width="10" height="6"/>
        <rect class="win" x="588" y="90" width="10" height="6"/>
      </g>

      <!-- en sağ küçük bina pencereleri -->
      <g>
        <rect class="win" x="648" y="60" width="8" height="6"/>
        <rect class="win" x="662" y="60" width="8" height="6"/>
        <rect class="win flickerA" x="648" y="74" width="8" height="6"/>
        <rect class="win" x="662" y="74" width="8" height="6"/>
        <rect class="win" x="648" y="88" width="8" height="6"/>
        <rect class="win flickerB" x="662" y="88" width="8" height="6"/>
      </g>
    </svg>

    <!-- Bulutlar (üstte) -->
    <div class="layer z-clouds">
      <div class="bulut bulut1" aria-hidden="true">
        <svg viewBox="0 0 200 120" width="150" height="90"><path d="M50 90c-22 0-40-14-40-32s18-32 40-32c7 0 14 2 20 5C78 15 95 4 115 4c26 0 47 19 49 44 15 2 26 13 26 26 0 15-14 28-32 28H50z"/></svg>
      </div>
      <div class="bulut bulut2" aria-hidden="true">
        <svg viewBox="0 0 200 120" width="200" height="110"><path d="M50 90c-22 0-40-14-40-32s18-32 40-32c7 0 14 2 20 5C78 15 95 4 115 4c26 0 47 19 49 44 15 2 26 13 26 26 0 15-14 28-32 28H50z"/></svg>
      </div>
      <div class="bulut bulut3" aria-hidden="true">
        <svg viewBox="0 0 200 120" width="120" height="72"><path d="M50 90c-22 0-40-14-40-32s18-32 40-32c7 0 14 2 20 5C78 15 95 4 115 4c26 0 47 19 49 44 15 2 26 13 26 26 0 15-14 28-32 28H50z"/></svg>
      </div>
    </div>
  </div>

  <script src="app.js"></script>
</body>
</html>
